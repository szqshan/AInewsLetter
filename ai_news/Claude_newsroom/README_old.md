# ğŸ¤– Claude Newsroom æ–°é—»çˆ¬è™«

> ç®€åŒ–ç‰ˆæ–°é—»çˆ¬è™«å·¥å…·ï¼Œæ¯å¤©å®šæ—¶ä»Claudeå®˜æ–¹newsroomçˆ¬å–æ–°é—»å¹¶å­˜å‚¨åˆ°æœ¬åœ°ï¼Œé›†æˆç°æœ‰MinIOå­˜å‚¨æ¶æ„

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½
- âœ… **çˆ¬è™«è„šæœ¬**: ä»Claude newsroomçˆ¬å–æ–°é—»å¹¶æœ¬åœ°å­˜å‚¨ 
- âœ… **åª’ä½“ä¸‹è½½**: è‡ªåŠ¨ä¸‹è½½å›¾ç‰‡ç­‰åª’ä½“æ–‡ä»¶
- âœ… **ä¸Šä¼ è„šæœ¬**: å•ç‹¬çš„ä¸Šä¼ è„šæœ¬ï¼Œé›†æˆåˆ°ç°æœ‰MinIOå­˜å‚¨æ¶æ„
- âœ… **å®šæ—¶è°ƒåº¦**: æ”¯æŒæ¯æ—¥è‡ªåŠ¨çˆ¬å–å’Œä¸Šä¼ 
- âœ… **å¢é‡æ›´æ–°**: æ™ºèƒ½æ£€æµ‹æ–°å¢å†…å®¹ï¼Œé¿å…é‡å¤çˆ¬å–
- âœ… **æ•°æ®æ¸…æ´—**: è‡ªåŠ¨æå–æ ‡é¢˜ã€åˆ†ç±»ã€æ—¥æœŸç­‰ç»“æ„åŒ–ä¿¡æ¯

### ğŸŒ æ•°æ®æº
**Claudeå®˜æ–¹æ–°é—»å®¤**: https://www.anthropic.com/news

## âœ… å·²å®ŒæˆåŠŸèƒ½

### ğŸ•·ï¸ çˆ¬è™«åŠŸèƒ½ (spider.py)
- **HTMLè§£æ**: åŸºäºBeautifulSoupçš„ç¨³å®šè§£æå™¨
- **æ™ºèƒ½æå–**: è‡ªåŠ¨è¯†åˆ«æ ‡é¢˜ã€åˆ†ç±»ã€æ—¥æœŸã€æ­£æ–‡å†…å®¹
- **åª’ä½“ä¸‹è½½**: è‡ªåŠ¨ä¸‹è½½å¹¶æœ¬åœ°å­˜å‚¨å›¾ç‰‡æ–‡ä»¶
- **é”™è¯¯å¤„ç†**: ç½‘ç»œè¶…æ—¶ã€è§£æå¤±è´¥çš„ä¼˜é›…å¤„ç†
- **å¢é‡çˆ¬å–**: åŸºäºæ–‡ç« URLé¿å…é‡å¤ä¸‹è½½
- **å¯é…ç½®**: æ”¯æŒè‡ªå®šä¹‰çˆ¬å–æ•°é‡ã€å»¶è¿Ÿç­‰å‚æ•°

### ğŸ“¤ ä¸Šä¼ åŠŸèƒ½ (uploader.py)
- **MinIOé›†æˆ**: ä¸Šä¼ åˆ°å¯¹è±¡å­˜å‚¨
- **PostgreSQL**: ä¿å­˜ç»“æ„åŒ–å…ƒæ•°æ®
- **Elasticsearch**: å…¨æ–‡æœç´¢ç´¢å¼•
- **æ‰¹é‡å¤„ç†**: æ”¯æŒæ‰¹é‡ä¸Šä¼ æ‰€æœ‰æœ¬åœ°æ–‡ç« 

### ğŸ® è¿è¡Œè„šæœ¬ (run_crawler.py)
- **ä¸€é”®è¿è¡Œ**: åŒæ—¶æ‰§è¡Œçˆ¬å–å’Œä¸Šä¼ 
- **çµæ´»æ¨¡å¼**: æ”¯æŒä»…çˆ¬å–æˆ–ä»…ä¸Šä¼ 
- **å‚æ•°æ§åˆ¶**: å¯æ§åˆ¶æ–‡ç« æ•°é‡ã€å¼ºåˆ¶æ›´æ–°ç­‰

## ğŸ—‚ï¸ é¡¹ç›®ç›®å½•ç»“æ„

```
ai_news/Claude_newsroom/
â”œâ”€â”€ ğŸ“„ spider.py                    # ä¸»çˆ¬è™«è„šæœ¬
â”œâ”€â”€ ğŸ“„ uploader.py                  # ä¸Šä¼ è„šæœ¬
â”œâ”€â”€ ğŸ“„ config.json                  # é…ç½®æ–‡ä»¶
â”œâ”€â”€ ğŸ“„ requirements.txt             # ä¾èµ–åŒ…
â”œâ”€â”€ ğŸ“„ README.md                    # è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ ğŸ“Š crawled_data/                # æœ¬åœ°æ•°æ®å­˜å‚¨
â”‚   â””â”€â”€ articles/                   # æ–°é—»æ–‡ç« ç›®å½•
â”‚       â””â”€â”€ {news_id}/             # æŒ‰æ–°é—»IDç»„ç»‡
â”‚           â”œâ”€â”€ content.md         # Markdownå†…å®¹
â”‚           â”œâ”€â”€ metadata.json      # å…ƒæ•°æ®
â”‚           â””â”€â”€ media/             # åª’ä½“æ–‡ä»¶
â”‚               â”œâ”€â”€ images/        # å›¾ç‰‡
â”‚               â””â”€â”€ videos/        # è§†é¢‘
â””â”€â”€ ğŸ“„ run_daily.sh                # å®šæ—¶è¿è¡Œè„šæœ¬
```

## ğŸ”§ æ ¸å¿ƒè„šæœ¬åŠŸèƒ½

### 1. spider.py - ä¸»çˆ¬è™«è„šæœ¬
- çˆ¬å– https://www.anthropic.com/news
- è§£ææ–°é—»åˆ—è¡¨å’Œè¯¦ç»†å†…å®¹
- ä¸‹è½½åª’ä½“æ–‡ä»¶åˆ°æœ¬åœ°
- ç”Ÿæˆæ ‡å‡†åŒ– content.md å’Œ metadata.json
- æ”¯æŒå¢é‡æ›´æ–°å’Œæ–­ç‚¹ç»­ä¼ 

### 2. uploader.py - ä¸Šä¼ è„šæœ¬
- æ‰«æ crawled_data ç›®å½•
- ä¸Šä¼ åˆ°ç°æœ‰ MinIO å­˜å‚¨ç³»ç»Ÿ
- é›†æˆ PostgreSQL å…ƒæ•°æ®è®°å½•
- å»ºç«‹ Elasticsearch ç´¢å¼•
- å¤ç”¨ç°æœ‰å­˜å‚¨æ¶æ„ API

## ğŸš€ ä½¿ç”¨æ–¹å¼

### åŸºç¡€å‘½ä»¤
```bash
# 1. å®‰è£…ä¾èµ–
pip install -r requirements.txt

# 2. çˆ¬å–æ–°é—»
python spider.py --max-results 20

# 3. ä¸Šä¼ åˆ°å­˜å‚¨ç³»ç»Ÿ
python uploader.py --source crawled_data

# 4. å®šæ—¶ä»»åŠ¡ (æ¯å¤©æ‰§è¡Œ)
./run_daily.sh
```

### é«˜çº§å‚æ•°
```bash
# çˆ¬å–æœ€æ–°10ç¯‡æ–°é—»å¹¶ä¸‹è½½åª’ä½“
python spider.py --max-results 10 --download-media

# å¢é‡çˆ¬å– (åªè·å–æ–°å¢å†…å®¹)
python spider.py --incremental

# ä¸Šä¼ æŒ‡å®šç›®å½•åˆ°MinIO
python uploader.py --source crawled_data --bucket claude-newsroom
```

## âš™ï¸ é…ç½®æ–‡ä»¶

### config.json
```json
{
  "crawler": {
    "base_url": "https://www.anthropic.com/news",
    "output_dir": "crawled_data",
    "max_results": 50,
    "download_media": true,
    "delay": 2,
    "user_agent": "Mozilla/5.0 (Claude News Crawler)"
  },
  "media": {
    "download_images": true,
    "download_videos": true,
    "max_file_size": "50MB",
    "supported_formats": ["jpg", "png", "gif", "webp", "mp4", "webm"]
  },
  "storage": {
    "bucket_name": "claude-newsroom",
    "minio_api": "http://localhost:9011",
    "public_base_url": "http://60.205.160.74:9000",
    "source_id": "claude_newsroom"
  }
}
```

## ğŸ“Š æ•°æ®æ ¼å¼æ ‡å‡†

### content.md æ ¼å¼
```markdown
# {æ–°é—»æ ‡é¢˜}

## åŸºæœ¬ä¿¡æ¯
- **æ–°é—»ID**: {å”¯ä¸€æ ‡è¯†}
- **å‘å¸ƒæ—¥æœŸ**: {å‘å¸ƒæ—¥æœŸ}
- **æ›´æ–°æ—¶é—´**: {æœ€åæ›´æ–°æ—¶é—´}
- **ä½œè€…**: {ä½œè€…ä¿¡æ¯}
- **åˆ†ç±»**: {æ–°é—»åˆ†ç±»}

## é“¾æ¥
- **åŸæ–‡é“¾æ¥**: {Anthropicå®˜ç½‘é“¾æ¥}
- **åª’ä½“æ–‡ä»¶**: {æœ¬åœ°åª’ä½“æ–‡ä»¶åˆ—è¡¨}

## æ‘˜è¦
{æ–°é—»æ‘˜è¦å†…å®¹}

## æ­£æ–‡å†…å®¹
{å®Œæ•´æ–°é—»å†…å®¹ï¼ŒåŒ…å«æœ¬åœ°åª’ä½“æ–‡ä»¶å¼•ç”¨}

## å¤„ç†ä¿¡æ¯
- **çˆ¬å–æ—¶é—´**: {å¤„ç†æ—¶é—´æˆ³}
- **å­—æ•°ç»Ÿè®¡**: {å­—æ•°}
- **åª’ä½“æ–‡ä»¶æ•°**: {åª’ä½“æ–‡ä»¶æ•°é‡}
- **å†…å®¹å“ˆå¸Œ**: {æ–‡ä»¶å“ˆå¸Œ}
```

### metadata.json ç»“æ„
```json
{
  "id": "unique_news_identifier",
  "title": "æ–°é—»æ ‡é¢˜",
  "url": "https://www.anthropic.com/news/article-url",
  "publish_date": "2025-01-17T10:00:00Z",
  "author": "Anthropic Team",
  "category": "product_update",
  "tags": ["Claude", "AI", "Product"],
  "summary": "æ–°é—»æ‘˜è¦",
  "content_hash": "sha256_hash",
  "media_files": [
    {
      "type": "image",
      "original_url": "https://example.com/image.jpg",
      "local_path": "media/images/image_001.jpg",
      "file_size": 1024576
    }
  ],
  "crawl_info": {
    "crawl_time": "2025-01-17T09:30:00Z",
    "processing_time": 15.5
  }
}
```

## ğŸ” å­˜å‚¨æ¶æ„é›†æˆ

### ä¸‰å±‚å­˜å‚¨è®¾è®¡
å‚è€ƒarXivçˆ¬è™«å­˜å‚¨æ¶æ„ï¼Œå®ç°å®Œæ•´æ•°æ®æµï¼š

```
ğŸ“Š æ•°æ®æµå‘: çˆ¬è™« â†’ æœ¬åœ°å­˜å‚¨ â†’ MinIOå¯¹è±¡å­˜å‚¨ â†’ PostgreSQLå…ƒæ•°æ® â†’ Elasticsearchç´¢å¼•
```

### å­˜å‚¨æœåŠ¡é…ç½®
| æœåŠ¡ | åœ°å€ | ç”¨é€” | çŠ¶æ€ |
|------|------|------|------|
| **MinIOå¯¹è±¡å­˜å‚¨** | `60.205.160.74:9000` | æ–‡ä»¶å­˜å‚¨ | âœ… è¿è¡Œä¸­ |
| **PostgreSQLæ•°æ®åº“** | `60.205.160.74:5432` | å…ƒæ•°æ®å­˜å‚¨ | âœ… è¿è¡Œä¸­ |
| **Elasticsearchæœç´¢** | `60.205.160.74:9200` | å…¨æ–‡æ£€ç´¢ | âœ… è¿è¡Œä¸­ |
| **MinIOè¿æ¥å™¨API** | `localhost:9011` | æ•°æ®ç®¡ç†æ¥å£ | âœ… è¿è¡Œä¸­ |

## ğŸ“… å®šæ—¶ä»»åŠ¡é…ç½®

### Cronä»»åŠ¡è®¾ç½®
```bash
# æ¯å¤©ä¸Šåˆ9ç‚¹è‡ªåŠ¨çˆ¬å–
0 9 * * * cd /path/to/Claude_newsroom && python spider.py --incremental

# æ¯å¤©ä¸‹åˆ6ç‚¹è‡ªåŠ¨ä¸Šä¼ 
0 18 * * * cd /path/to/Claude_newsroom && python uploader.py --source crawled_data
```

### run_daily.sh è„šæœ¬
```bash
#!/bin/bash
# æ¯æ—¥è‡ªåŠ¨è¿è¡Œè„šæœ¬

# 1. çˆ¬å–æ–°é—»
echo "å¼€å§‹çˆ¬å–Claudeæ–°é—»..."
python spider.py --incremental --max-results 20

# 2. ä¸Šä¼ åˆ°å­˜å‚¨ç³»ç»Ÿ
echo "ä¸Šä¼ åˆ°å­˜å‚¨ç³»ç»Ÿ..."
python uploader.py --source crawled_data

echo "æ¯æ—¥ä»»åŠ¡å®Œæˆï¼"
```

## ğŸ¯ æŠ€æœ¯ç‰¹ç‚¹

### 1. ç®€æ´è®¾è®¡
- **æœ€å°åŒ–ç›®å½•**: åªæœ‰2ä¸ªæ ¸å¿ƒè„šæœ¬ + é…ç½®æ–‡ä»¶
- **åŠŸèƒ½å®Œæ•´**: çˆ¬å–ã€å­˜å‚¨ã€ä¸Šä¼ ä¸€æ¡é¾™
- **æ˜“äºç»´æŠ¤**: ä»£ç é›†ä¸­ï¼Œé€»è¾‘æ¸…æ™°

### 2. æ¶æ„å¤ç”¨
- **é›†æˆç°æœ‰MinIOæ¶æ„**: å¤ç”¨arXivçˆ¬è™«çš„æˆç†Ÿå­˜å‚¨æ–¹æ¡ˆ
- **æ ‡å‡†åŒ–æ•°æ®æ ¼å¼**: ä¸ç°æœ‰ç³»ç»Ÿå®Œç¾å…¼å®¹
- **APIæ¥å£å¤ç”¨**: ä½¿ç”¨ç°æœ‰MinIOè¿æ¥å™¨æœåŠ¡

### 3. è‡ªåŠ¨åŒ–æ”¯æŒ
- **å¢é‡çˆ¬å–**: æ™ºèƒ½æ£€æµ‹æ–°å¢å†…å®¹
- **å®šæ—¶è°ƒåº¦**: æ”¯æŒcronå®šæ—¶ä»»åŠ¡
- **é”™è¯¯æ¢å¤**: æ–­ç‚¹ç»­ä¼ å’Œé‡è¯•æœºåˆ¶

## ğŸ“¦ ä¾èµ–åŒ…

### requirements.txt
```
playwright>=1.40.0
aiohttp>=3.9.0
aiofiles>=23.2.0
beautifulsoup4>=4.12.0
markdownify>=0.11.6
requests>=2.31.0
python-dateutil>=2.8.2
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

1. **ç¯å¢ƒå‡†å¤‡**
   ```bash
   pip install -r requirements.txt
   playwright install chromium
   ```

2. **å¯åŠ¨MinIOè¿æ¥å™¨**
   ```bash
   cd ../../../m1n10C0nnect0r/minio-file-manager/backend
   python run.py
   ```

3. **è¿è¡Œçˆ¬è™«**
   ```bash
   python spider.py --max-results 10
   python uploader.py --source crawled_data
   ```

## ğŸ“ˆ é¡¹ç›®çŠ¶æ€

- **å¼€å‘çŠ¶æ€**: ğŸ”„ æ–¹æ¡ˆè®¾è®¡å®Œæˆï¼Œå¾…å¼€å‘
- **å­˜å‚¨æ¶æ„**: âœ… å·²é›†æˆç°æœ‰MinIOç³»ç»Ÿ
- **æ•°æ®æ ¼å¼**: âœ… å·²æ ‡å‡†åŒ–
- **éƒ¨ç½²æ–¹å¼**: âœ… æ”¯æŒæœ¬åœ°å’Œå®šæ—¶ä»»åŠ¡

---

**è”ç³»æ–¹å¼**: å‚è€ƒé¡¹ç›®æ ¹ç›®å½•æŠ€æœ¯æ–‡æ¡£  
**æ›´æ–°æ—¶é—´**: 2025-01-17